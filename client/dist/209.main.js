"use strict";(self.webpackChunkmy_webpack_project=self.webpackChunkmy_webpack_project||[]).push([[209],{8767:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(5466);class n extends r.Component{constructor(e){super(e),this.state={stars:[0,0,0,0,0]}}componentDidMount(){this.renderStarsByQuarters(this.props.rating)}componentDidUpdate(e){this.props.rating!==e.rating&&this.renderStarsByQuarters(this.props.rating)}renderStarsByQuarters(e){if(isNaN(e)||!e)this.setState({stars:[0,0,0,0,0]});else if(e>0){for(var[t,a]=[Number(String(e).split(".")[0]),Number("0."+String(e).split(".")[1])||0],r=0,n=[0,0,0,0,0];t>0;)n[r]=1,t--,5===++r&&r--;n[r]=a>0&&a<=.125?0:a>.125&&a<=.375?.35:a>.375&&a<=.625?.5:a>.625&&a<=.875?.7:0===a&&5!==e?0:1,this.setState({stars:n})}}render(){return r.createElement("div",{className:"five-stars"},this.state.stars.map(((e,t)=>r.createElement("div",{className:"single-star-container",id:t,key:t},r.createElement("span",{className:"single-star-outline"}),r.createElement("span",{className:"single-star-fill",style:{width:100*e+"%"}})))))}}const l=n},5873:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(5466),n=a(8767),l=a(6120);const i=(0,l.Z)((function(e){return e.actionButton?React.createElement("div",{id:"action"},React.createElement("i",{className:"fa-regular fa-star star",onClick:t=>{e.showModal(e.info),e.interaction(t.currentTarget)}})):React.createElement("div",{id:"action"},React.createElement("i",{id:e.info.id,className:"fa-regular fa-circle-xmark",onClick:t=>{e.removeProd(t),e.interaction(t.currentTarget)}}))}),"Related Items & Comparison");const s=(0,l.Z)((function(e){if(0===e.info.length)return"";if(null===e.info.defaultStyle.sale_price)var t=e.info.defaultStyle.original_price;else t=e.info.defaultStyle.sale_price;if(null===e.info.defaultStyle.photos[0].thumbnail_url)var a="./img/NoImageThumbnail.png";else a=e.info.defaultStyle.photos[0].thumbnail_url;return r.createElement("div",{className:"card"},r.createElement(i,{info:e.info.product,prodName:e.info.product.name,actionButton:e.action,showModal:e.show,removeProd:e.remove}),r.createElement("div",{id:e.info.product.id,onClick:t=>{e.redirect(e.info.product.id),console.log(t.target.nodeName),e.interaction(t.target)}},r.createElement("p",null,r.createElement("img",{className:"rpcThumbnails",alt:"rpc thumbnails",src:a})),r.createElement("p",null,e.info.product.category),r.createElement("p",null,e.info.product.name),r.createElement("p",null,t),r.createElement(n.Z,{rating:e.info.rating})))}),"Related Items & Comparison")},3209:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(5466),n=a(5873),l=a(6120);const i=(0,l.Z)((function(e){return e.open?r.createElement("div",{id:"modal_container"},r.createElement("div",{id:"modal"},r.createElement("button",{id:"modalbttn",onClick:t=>{e.closeModal(),e.interaction(t.target)}},"Close"),r.createElement("h3",null,"Comparing"),r.createElement("div",{className:"row"},r.createElement("div",{className:"column"},r.createElement("b",null,r.createElement("p",null,e.overview.name)),e.overview.features.map(((e,t)=>r.createElement("p",{key:t},e.feature,": ",e.value)))),r.createElement("div",{className:"column"},r.createElement("p",null)),r.createElement("div",{className:"column"},r.createElement("b",null,r.createElement("p",null,e.card.name)),e.card.features.map(((e,t)=>r.createElement("p",{key:t},e.feature,": ",e.value))))))):null}),"Related Items & Comparison");var s=a(4559),c=a.n(s),o=a(1570);const u=(0,l.Z)((function(e){const[t,a]=(0,r.useState)([]),[l,s]=(0,r.useState)(!1),[u,m]=(0,r.useState)(0),[d,p]=(0,r.useState)(""),[f,g]=(0,r.useState)(""),[v,h]=(0,r.useState)({}),[E,N]=(0,r.useState)(""),S=r.createRef(),b=t.map(((t,a)=>r.createElement(n.Z,{action:!0,info:t,show:(e,t)=>{h(e),s(!0)},key:a,redirect:e.changeProduct})));return(0,r.useEffect)((()=>{var t=[];e.relatedProds.forEach((e=>{t.push(c().get(`/products/${e.toString()}/styles`)),t.push(c().get(`/products/${e.toString()}`)),t.push(c().get(`/reviews/meta/${e.toString()}`))})),Promise.all(t).then((e=>{for(var t=[],r=0;r<=e.length-3;r+=3){var n=e[r].data.results.find((e=>e["default?"]));void 0===n&&(n=e[r].data.results[0]),t.push({defaultStyle:n,product:e[r+1].data,rating:(0,o.totalRatingsAndAvgRating)(e[r+2].data.ratings)[1]})}a([...t])})).catch((e=>console.log(e)))}),[e.productId]),(0,r.useEffect)((()=>{u.toString()+"px"=="0px"&&(p(!0),console.log()),u.toString()+"px"!="0px"&&p(!1),S.current.clientWidth<S.current.scrollWidth&&g(!1),S.current.clientWidth<S.current.scrollWidth||g(!0)}),[u,S]),r.createElement("div",{"data-testid":"rpList",className:"container"},r.createElement("p",null,"Related Products"),r.createElement("div",{className:"main-container"},d?"":r.createElement("button",{className:"nav Prev",onClick:t=>{e.interaction(t.target),m(u+300)}},"Prev"),r.createElement("div",{id:"carousel-container",ref:S},r.createElement("div",{id:"carousel",style:{transform:`translateX(${u.toString()}px)`}},b),l?r.createElement(i,{card:v,overview:e.overview,open:l,closeModal:()=>s(!1)}):""),f?"":r.createElement("button",{className:"nav Next",onClick:t=>{e.interaction(t.target),m(u-300)}},"Next")))}),"Related Items & Comparison")},6120:(e,t,a)=>{a.d(t,{Z:()=>s});var r=a(5466),n=a(4559),l=a.n(n);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},i.apply(this,arguments)}const s=(e,t)=>{class a extends r.Component{constructor(e){super(e)}interactionFunc(e){var a=e.id?e.nodeName+"#"+e.id:e.nodeName+"."+e.className,r=String(new Date);l().post("/interactions",{element:a,widget:t,time:r}).then((e=>{201===e.status&&console.log(e.data)})).catch((e=>{console.error(e)}))}render(){return r.createElement(e,i({},this.props,{interaction:this.interactionFunc.bind(this)}))}}return a}}}]);